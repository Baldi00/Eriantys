<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (17) on Wed Jun 29 20:22:48 CEST 2022 -->
<title>ServerController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-06-29">
<meta name="description" content="declaration: package: it.polimi.ingsw.server, class: ServerController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server</a></div>
<h1 title="Class ServerController" class="title">Class ServerController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.server.ServerController</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../network/observers/JsonCommandChangeListener.html" title="interface in it.polimi.ingsw.network.observers">JsonCommandChangeListener</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ServerController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../network/observers/JsonCommandChangeListener.html" title="interface in it.polimi.ingsw.network.observers">JsonCommandChangeListener</a></span></div>
<div class="block">Receives the requests from the clients through the client handlers
 Requests to perform the changes on the gameState through the game manager
 Sends the response to all clients through the client handlers
 It refers to a single active match
 Every client handler handles the communication with a single client connected to the current match</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="modules/ClientHandler.html" title="class in it.polimi.ingsw.server.modules">ClientHandler</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#clientHandlers" class="member-name-link">clientHandlers</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="../models/GameManager.html" title="class in it.polimi.ingsw.models">GameManager</a></code></div>
<div class="col-second odd-row-color"><code><a href="#gameManager" class="member-name-link">gameManager</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Logger.html" title="class or interface in java.util.logging" class="external-link">Logger</a></code></div>
<div class="col-second even-row-color"><code><a href="#logger" class="member-name-link">logger</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#nicknamesToBeAdded" class="member-name-link">nicknamesToBeAdded</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.models.GameManager,java.util.List)" class="member-name-link">ServerController</a><wbr>(<a href="../models/GameManager.html" title="class in it.polimi.ingsw.models">GameManager</a>&nbsp;gameManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;nicknames)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addClientHandler(it.polimi.ingsw.server.modules.ClientHandler)" class="member-name-link">addClientHandler</a><wbr>(<a href="modules/ClientHandler.html" title="class in it.polimi.ingsw.server.modules">ClientHandler</a>&nbsp;clientHandler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addClientHandlers(java.util.List)" class="member-name-link">addClientHandlers</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="modules/ClientHandler.html" title="class in it.polimi.ingsw.server.modules">ClientHandler</a>&gt;&nbsp;clientHandlers)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a list of client handler to the inner list
 Client handlers are used to communicate with clients</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPlayer(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">addPlayer</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createForceEndMatchResponse()" class="member-name-link">createForceEndMatchResponse</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createMoveDoneResponse(java.lang.String,it.polimi.ingsw.network.JsonCommand)" class="member-name-link">createMoveDoneResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serializedGameState,
 <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;lastMove)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../models/state/GameState.html" title="class in it.polimi.ingsw.models.state">GameState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deserializeGameStateJson(java.lang.String)" class="member-name-link">deserializeGameStateJson</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serializedGameState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endTurn()" class="member-name-link">endTurn</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeMove(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">executeMove</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;move)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Requests the game manager to perform the requested move form the client</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../models/state/GameState.html" title="class in it.polimi.ingsw.models.state">GameState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getClonedGameState()" class="member-name-link">getClonedGameState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleAddPlayerRequest(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">handleAddPlayerRequest</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a player to the match</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleRequest(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">handleRequest</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Receives the request from clients and dispatches it to the right function</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#jsonCommandChange(it.polimi.ingsw.network.observers.JsonCommandChangeEvent)" class="member-name-link">jsonCommandChange</a><wbr>(<a href="../network/observers/JsonCommandChangeEvent.html" title="class in it.polimi.ingsw.network.observers">JsonCommandChangeEvent</a>&nbsp;event)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fired when a message from one client has been received</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveMotherNature(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">moveMotherNature</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveStudentFromEntranceToHall(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">moveStudentFromEntranceToHall</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveStudentFromEntranceToIsland(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">moveStudentFromEntranceToIsland</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pickStudentsFromCloud(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">pickStudentsFromCloud</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#playAssistant(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">playAssistant</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#playCharacter(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">playCharacter</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareInitialGameState()" class="member-name-link">prepareInitialGameState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareWizardAndTowerRequestForNextClient()" class="member-name-link">prepareWizardAndTowerRequestForNextClient</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollbackGameState(it.polimi.ingsw.models.state.GameState)" class="member-name-link">rollbackGameState</a><wbr>(<a href="../models/state/GameState.html" title="class in it.polimi.ingsw.models.state">GameState</a>&nbsp;oldGameState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recreates the game manager based on the given gameState</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendFirstWizardAndTowerRequestToClients()" class="member-name-link">sendFirstWizardAndTowerRequestToClients</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepares and send the first request for the clients
 The server says the clients to choose and send (one by one) the wizard and the tower</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendResponseToClients(it.polimi.ingsw.network.JsonCommand)" class="member-name-link">sendResponseToClients</a><wbr>(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;response)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send the response to a previous request to all clients through the client handlers</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#serializeGameStateJson()" class="member-name-link">serializeGameStateJson</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="gameManager">
<h3>gameManager</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../models/GameManager.html" title="class in it.polimi.ingsw.models">GameManager</a></span>&nbsp;<span class="element-name">gameManager</span></div>
</section>
</li>
<li>
<section class="detail" id="clientHandlers">
<h3>clientHandlers</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="modules/ClientHandler.html" title="class in it.polimi.ingsw.server.modules">ClientHandler</a>&gt;</span>&nbsp;<span class="element-name">clientHandlers</span></div>
</section>
</li>
<li>
<section class="detail" id="nicknamesToBeAdded">
<h3>nicknamesToBeAdded</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">nicknamesToBeAdded</span></div>
</section>
</li>
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Logger.html" title="class or interface in java.util.logging" class="external-link">Logger</a></span>&nbsp;<span class="element-name">logger</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.models.GameManager,java.util.List)">
<h3>ServerController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ServerController</span><wbr><span class="parameters">(<a href="../models/GameManager.html" title="class in it.polimi.ingsw.models">GameManager</a>&nbsp;gameManager,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;nicknames)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>gameManager</code> - the model of the application used to perform changes on the gameState</dd>
<dd><code>nicknames</code> - the list of the nicknames associated to this match</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addClientHandlers(java.util.List)">
<h3>addClientHandlers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addClientHandlers</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="modules/ClientHandler.html" title="class in it.polimi.ingsw.server.modules">ClientHandler</a>&gt;&nbsp;clientHandlers)</span></div>
<div class="block">Adds a list of client handler to the inner list
 Client handlers are used to communicate with clients</div>
</section>
</li>
<li>
<section class="detail" id="addClientHandler(it.polimi.ingsw.server.modules.ClientHandler)">
<h3>addClientHandler</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addClientHandler</span><wbr><span class="parameters">(<a href="modules/ClientHandler.html" title="class in it.polimi.ingsw.server.modules">ClientHandler</a>&nbsp;clientHandler)</span></div>
</section>
</li>
<li>
<section class="detail" id="jsonCommandChange(it.polimi.ingsw.network.observers.JsonCommandChangeEvent)">
<h3>jsonCommandChange</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">jsonCommandChange</span><wbr><span class="parameters">(<a href="../network/observers/JsonCommandChangeEvent.html" title="class in it.polimi.ingsw.network.observers">JsonCommandChangeEvent</a>&nbsp;event)</span></div>
<div class="block">Fired when a message from one client has been received</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../network/observers/JsonCommandChangeListener.html#jsonCommandChange(it.polimi.ingsw.network.observers.JsonCommandChangeEvent)">jsonCommandChange</a></code>&nbsp;in interface&nbsp;<code><a href="../network/observers/JsonCommandChangeListener.html" title="interface in it.polimi.ingsw.network.observers">JsonCommandChangeListener</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendResponseToClients(it.polimi.ingsw.network.JsonCommand)">
<h3>sendResponseToClients</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendResponseToClients</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;response)</span></div>
<div class="block">Send the response to a previous request to all clients through the client handlers</div>
</section>
</li>
<li>
<section class="detail" id="sendFirstWizardAndTowerRequestToClients()">
<h3>sendFirstWizardAndTowerRequestToClients</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendFirstWizardAndTowerRequestToClients</span>()</div>
<div class="block">Prepares and send the first request for the clients
 The server says the clients to choose and send (one by one) the wizard and the tower</div>
</section>
</li>
<li>
<section class="detail" id="handleRequest(it.polimi.ingsw.network.JsonCommand)">
<h3>handleRequest</h3>
<div class="member-signature"><span class="return-type"><a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></span>&nbsp;<span class="element-name">handleRequest</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;request)</span></div>
<div class="block">Receives the request from clients and dispatches it to the right function</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the response or the result that the request produced</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleAddPlayerRequest(it.polimi.ingsw.network.JsonCommand)">
<h3>handleAddPlayerRequest</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></span>&nbsp;<span class="element-name">handleAddPlayerRequest</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;request)</span></div>
<div class="block">Adds a player to the match</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>if all players have been added the initial gameState to send to all clients,
 otherwise the new request to choose wizard and tower for the next client</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareWizardAndTowerRequestForNextClient()">
<h3>prepareWizardAndTowerRequestForNextClient</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></span>&nbsp;<span class="element-name">prepareWizardAndTowerRequestForNextClient</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new request to choose wizard and tower for the next client</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeMove(it.polimi.ingsw.network.JsonCommand)">
<h3>executeMove</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></span>&nbsp;<span class="element-name">executeMove</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;move)</span></div>
<div class="block">Requests the game manager to perform the requested move form the client</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the response with the changed game state or with the old game state if something went wrong</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareInitialGameState()">
<h3>prepareInitialGameState</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareInitialGameState</span>()</div>
</section>
</li>
<li>
<section class="detail" id="addPlayer(it.polimi.ingsw.network.JsonCommand)">
<h3>addPlayer</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addPlayer</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="playAssistant(it.polimi.ingsw.network.JsonCommand)">
<h3>playAssistant</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">playAssistant</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="moveStudentFromEntranceToHall(it.polimi.ingsw.network.JsonCommand)">
<h3>moveStudentFromEntranceToHall</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveStudentFromEntranceToHall</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="moveStudentFromEntranceToIsland(it.polimi.ingsw.network.JsonCommand)">
<h3>moveStudentFromEntranceToIsland</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveStudentFromEntranceToIsland</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="moveMotherNature(it.polimi.ingsw.network.JsonCommand)">
<h3>moveMotherNature</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveMotherNature</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="pickStudentsFromCloud(it.polimi.ingsw.network.JsonCommand)">
<h3>pickStudentsFromCloud</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pickStudentsFromCloud</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="playCharacter(it.polimi.ingsw.network.JsonCommand)">
<h3>playCharacter</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">playCharacter</span><wbr><span class="parameters">(<a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;jsonCommand)</span></div>
</section>
</li>
<li>
<section class="detail" id="endTurn()">
<h3>endTurn</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endTurn</span>()</div>
</section>
</li>
<li>
<section class="detail" id="serializeGameStateJson()">
<h3>serializeGameStateJson</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">serializeGameStateJson</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the string containing the game state in JSON format</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deserializeGameStateJson(java.lang.String)">
<h3>deserializeGameStateJson</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../models/state/GameState.html" title="class in it.polimi.ingsw.models.state">GameState</a></span>&nbsp;<span class="element-name">deserializeGameStateJson</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serializedGameState)</span></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the game state created by the given serialized game state string</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createMoveDoneResponse(java.lang.String,it.polimi.ingsw.network.JsonCommand)">
<h3>createMoveDoneResponse</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></span>&nbsp;<span class="element-name">createMoveDoneResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serializedGameState,
 <a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a>&nbsp;lastMove)</span></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the prepared response with the serialized game state and the information about the last performed move</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createForceEndMatchResponse()">
<h3>createForceEndMatchResponse</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../network/JsonCommand.html" title="class in it.polimi.ingsw.network">JsonCommand</a></span>&nbsp;<span class="element-name">createForceEndMatchResponse</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the prepared response with the force end match command for the clients</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getClonedGameState()">
<h3>getClonedGameState</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../models/state/GameState.html" title="class in it.polimi.ingsw.models.state">GameState</a></span>&nbsp;<span class="element-name">getClonedGameState</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the cloned game state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollbackGameState(it.polimi.ingsw.models.state.GameState)">
<h3>rollbackGameState</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rollbackGameState</span><wbr><span class="parameters">(<a href="../models/state/GameState.html" title="class in it.polimi.ingsw.models.state">GameState</a>&nbsp;oldGameState)</span></div>
<div class="block">Recreates the game manager based on the given gameState</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
